#set($pagetitle='Rule Groups List')
<p class="heading">Rule Groups List ($rulegroups.size()) - Project: ${project.name}</p>
<p>
	<img height="24" width="24" src="img/help_black.png" title="show help" onclick="switchHelp()"><a href="process?action=bsh&ro=1&scriptname=listprojects"><img height="24" width="24" src="img/go_back.png" title="go back: Project List"></a>
	#if($user.canUpdateProject($project)==true)
		<a href="process?action=bsh&ro=1&scriptname=selecteditrulegroup&id=0&projectid=${project.id}&mode=change"><img class="add_external" height="24px" width="24px" src="img/plus_red.png" title="add rulegroup"></a>
		<a href="process?action=bsh&ro=1&scriptname=selectcopyrulegroup&id=0&projectid=${project.id}"><img class="copy_external" height="24px" width="24px" src="img/copy.png" title="copy rulegroup"></a>
	#end
</p>
<div id="help">
	<p>List of available Rule Groups. A Rule Group is a collection of subgroups and rules that belong together to define certain checks and actions.</p>
	<p>Rule groups have a from/to date when they are valid. Rule groups may be copied - including subgroups, rules and actions.</p>
	<p>Click on the name of the rule group to get a list of subgroups, rules and actions.</p>
	<p><img height="24" width="24" src="img/remove.png">&nbsp;delete rule group&nbsp;<img height="24" width="24" src="img/edit.png">&nbsp;edit rule group&nbsp;<img height="24" width="24" src="img/plus_red.png">&nbsp;add new rule group&nbsp;<img height="24" width="24" src="img/copy.png">&nbsp;copy rule group</p>
</div>
<div id="filter">
	<p>Filter: <input id="search" type="text" onKeyUp="hideUnits();"></p>
</div>
<div class="unitsmall">
	<div class="grouptop">
		<p class="small">project #if(${project.privateProject}==1)(private)#end</p>
		<p class="big">$!{project.name}</a></p>
		<p class="normal">$!{project.description}</p>
	</div>
</div>
<div class="unitclear">
#set($counter=0)
#foreach($rulegroup in $rulegroups)
	<div class="unit" tag="$!{rulegroup.name}">
		#if($user.canUpdateProject($project)==true)
			<a href="process?action=bsh&ro=1&scriptname=selectdeleterulegroup&rulegroupid=${rulegroup.id}&projectid=${project.id}&mode=change"><img class="delete" height="24px" width="24px" src="img/remove.png" title="delete rulegroup"></a>
			<a href="process?action=bsh&ro=1&scriptname=selecteditrulegroup&id=${rulegroup.id}&projectid=${project.id}&mode=change"><img class="edit" height="24px" width="24px" src="img/edit.png" title="edit rulegroup"></a>
		#end
		<div class="grouptop">
			<p class="small">rulegroup</p>
			<p class="big"><a href="process?action=bsh&ro=1&scriptname=listrulesubgroups&rulegroupid=${rulegroup.id}">$!{rulegroup.name}</a></p>
			<p class="normal">$!{rulegroup.description}</p>
		</div>
		<div>
			<p class="small">valid: $!{rulegroup.validFrom}/$!{rulegroup.validUntil}</p>
		</div>
	</div>
	#set($counter=$counter+1)
#end
</div>
