#set($pagetitle='User List')
<p class="heading">User List ($users.size())</p>
<p><img id="helpimg" height="24" width="24" src="img/help_black.png" title="show help" onclick="switchHelp()"><a href="process?action=bsh&ro=1&scriptname=selectedituser&id=0&mode=add"><img class="add_external" height="24px" width="24px" src="img/plus_red.png" title="add user"></a></p>
<div id="help">
	<p>List of available Users with access to this application. Users may be in one or more groups, giving them appropriate security access to the projects.</p>
	<p>Users may be deactivated, so they can not access the application anymore.</p>
	<p><img height="24" width="24" src="img/plus_red.png">&nbsp;add new user</p>
</div>
<div id="filter">
	<p>Filter: <input id="search" type="text"></p>
</div>
 #foreach($appuser in $users)
	<div class="unit" tag="$!appuser.name.toLowerCase()">
		<a href="process?action=bsh&ro=1&scriptname=selectdeactivateuser&id=${appuser.id}"><img class="delete" height="24px" width="24px" src="img/remove.png" title="deactivate user"></a>
		<a href="process?action=bsh&ro=1&scriptname=selectedituser&id=${appuser.id}&mode=change"><img class="edit" height="24px" width="24px" src="img/edit.png" title="edit"></a>
		<div class="grouptop">
			<p class="small">user</p>
			<p class="big">$!appuser.name</a></p>
			<p class="normal">userid: $!appuser.userid</p>
			<p class="normal">groups: $!{appuser.getGroupsAsString()}</p>
		</div>
		<div>
			<p class="small">last login: $!{appuser.lastLogin}</p>
		</div>
	</div>
#end
<div class="unitclear">
	<p><a href="process?action=bsh&ro=1&scriptname=listdeactivatedusers">list deactivated users</a></p>
</div>		